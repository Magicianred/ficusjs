import{createMachine as t,interpret as e}from"https://cdn.skypack.dev/@xstate/fsm@1.6.0";function withStateMachineCreator(s,i){return{...i,created(){this._createMachine(s),i.created&&i.created.call(this)},send(t){this.service.send(t)},mounted(){this._startService(),i.mounted&&i.mounted.call(this)},updated(){this._startService(),i.updated&&i.updated.call(this)},removed(){this._stopService(),i.removed&&i.removed.call(this)},_createMachine(s){const i=t(s),r=e(i);this.machine=i,this.service=r,this.subscription=r.subscribe((t=>{this.state=t,this.computedCache={},this._processRender()})),this._startService()},_startService(){this.service&&this.subscription&&this.service.start()},_stopService(){this.service&&this.subscription&&this.service.stop()}}}export{withStateMachineCreator};
