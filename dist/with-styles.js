function withStyles(e){return{...e,created(){e.created&&e.created.call(this),e.styles&&"function"==typeof e.styles&&("undefined"!=typeof window&&(window.__ficusjs__=window.__ficusjs__||{},window.__ficusjs__.styles=window.__ficusjs__.styles||{}),this._injectStyles(e.styles()))},_injectStyles(e){if("undefined"!=typeof window){if(window.__ficusjs__&&window.__ficusjs__.styles&&window.__ficusjs__.styles[this.componentTagName])return;const t=this._createAndInjectStylesheet(e,{"data-tag":this.componentTagName});window.__ficusjs__.styles[this.componentTagName]={loaded:!0,style:t}}},_createAndInjectStylesheet(e,t){const s=this._createStyle(e);return this._setElementAttributes(s,t),document.getElementsByTagName("head")[0].appendChild(s),s},_createStyle(e){const t=document.createElement("style");return t.appendChild(document.createTextNode(e)),t},_setElementAttributes(e,t){t&&Object.keys(t).forEach((s=>{e.setAttribute(s,t[s])}))}}}export{withStyles};
